<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top"><!--navbar-default-->
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @Html.ActionLink("Система формирования заявок на инкасацию", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>
            <div class="navbar-collapse collapse">
                <!--
                <ul class="nav navbar-nav">
                    <li>@Html.ActionLink("Home", "Index", "Home")</li>
                    <li>@Html.ActionLink("About", "About", "Home")</li>
                    <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
                </ul>-->
                @Html.Partial("_LoginPartial")
            </div>
        </div>
    </div>
    <div class="container body-content">
        @RenderBody()
        <hr />
        <footer>
            <p>&copy; @DateTime.Now.Year - electrobas94@gmail.com</p>
        </footer>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    
    <script>// Вынести в отдельный файл DoubleScrollBar
        $(document).ready(function () {
            $('.double-scroll').doubleScroll();
        });

        (function ($) {
            jQuery.fn.doubleScroll = function (userOptions) {
                var options = {
                    contentElement: undefined, 
                    scrollCss: {
                        'overflow-x': 'auto',
                        'overflow-y': 'hidden'
                    },
                    contentCss: {
                        'overflow-x': 'auto',
                        'overflow-y': 'hidden'
                    },
                    onlyIfScroll: true, 
                    resetOnWindowResize: false, 
                    timeToWaitForResize: 30 
                };

                $.extend(true, options, userOptions);

                $.extend(options, {
                    topScrollBarMarkup: '<div class="doubleScroll-scroll-wrapper" style="height: 20px;"><div class="doubleScroll-scroll" style="height: 20px;"></div></div>',
                    topScrollBarWrapperSelector: '.doubleScroll-scroll-wrapper',
                    topScrollBarInnerSelector: '.doubleScroll-scroll'
                });

                var _showScrollBar = function ($self, options) {

                    if (options.onlyIfScroll && $self.get(0).scrollWidth <= $self.width()) {
                        $self.prev(options.topScrollBarWrapperSelector).remove();
                        return;
                    }

                    var $topScrollBar = $self.prev(options.topScrollBarWrapperSelector);

                    if ($topScrollBar.length == 0) {
                        $topScrollBar = $(options.topScrollBarMarkup);
                        $self.before($topScrollBar);

                        $topScrollBar.css(options.scrollCss);
                        $self.css(options.contentCss);

                        $topScrollBar.bind('scroll.doubleScroll', function () {
                            $self.scrollLeft($topScrollBar.scrollLeft());
                        });

                        var selfScrollHandler = function () {
                            $topScrollBar.scrollLeft($self.scrollLeft());
                        };
                        $self.bind('scroll.doubleScroll', selfScrollHandler);
                    }

                    var $contentElement;

                    if (options.contentElement !== undefined && $self.find(options.contentElement).length !== 0) {
                        $contentElement = $self.find(options.contentElement);
                    } else {
                        $contentElement = $self.find('>:first-child');
                    }

                    $(options.topScrollBarInnerSelector, $topScrollBar).width($contentElement.outerWidth());
                    $topScrollBar.width($self.width());
                    $topScrollBar.scrollLeft($self.scrollLeft());
                }

                return this.each(function () {
                    var $self = $(this);

                    _showScrollBar($self, options);

                    if (options.resetOnWindowResize) {
                        var id;
                        var handler = function (e) {
                            _showScrollBar($self, options);
                        };

                        $(window).bind('resize.doubleScroll', function () {
                            clearTimeout(id);
                            id = setTimeout(handler, options.timeToWaitForResize);
                        });
                    }
                });
            }
        }(jQuery));
    </script>
</body>
</html>
